<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helmet Detection</title>
    <link rel="stylesheet" href="../static/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

</head>
<body>
    <nav>
        <div class="logo">
            <a href="/">Helmet Detection</a>
        </div>
    </nav>
    <section  class="home" id="home">
        <div class="home-text">
            <h1>Helmet Detection</h1>
            <h2>ตรวจผู้สวมใส่หมวกกันน็อค ด้วย AI</h2>
            <div class="btn-container">
                <div class="btn">
                    <h2>Upload an Image</h2>
                    <form class="btn-1" action="/upload_image" method="POST" enctype="multipart/form-data">
                        <input type="file" name="file" accept="image/*"/>
                        <input type="submit" value="Upload">
                    </form>
                </div>
                <div class="btn">
                    <h2>Upload a Video</h2>
                    <form class="btn-1" action="/upload_video" method="POST" enctype="multipart/form-data">
                        <input type="file" name="file" accept="video/*" />
                        <input type="submit" value="Upload">
                    </form>
                </div>
                <div class="btn">
                    <h2>Webcam Detection</h2>
                    <a href="/webcam" class="btn-1">
                        <input type="button" value="Start Webcam">
                    </a>
                </div>
            </div>
            

        </div>
        <div class="result_image">
            <img src="{{ url_for('static', filename='output/' + image_file) }}" alt="Detected Image">
            <p class="helmet-count">จำนวนคนสวมหมวกกันน็อก: <span class="helmet">{{ helmet_count }}</span></p>
            <p class="without-helmet-count">จำนวนคนไม่สวมหมวกกันน็อก: <span class="without-helmet">{{ without_helmet_count }}</span></p>
            <div class="comment-section">
                <h3>Report an Issue</h3>
                <form action="/submit_report" method="POST">
                    <input type="hidden" name="image_file" value="{{ image_file }}">
                    
                    <label>
                        <input type="checkbox" name="is_incorrect" id="is_incorrect" onchange="toggleCommentBox()">
                        Mark as Incorrect
                    </label>
                
                    <div id="commentBox" style="display:none;">
                        <label for="comment">Comment:</label>
                        <textarea name="comment" id="comment"></textarea>
                    </div>
                
                    <div class="btn_submit">
                        <input type="submit" value="Submit">
                    </div>
                    
                </form>
            </div>
        </div>  

              
        
    </section>

    <section class="how-to-use" id="How-to-use">
    <div class="how-to-use-heading">
        <h1>วิธีการใช้งาน</h1>
        <h2>ตรวจจับผู้สวมใส่หมวกกันน็อค ด้วย AI Machine Learning YOLOv8</h2>
        <p>เป็นไลบรารีโอเพ่นซอร์สสำหรับการตรวจจับวัตถุ (object detection) เหมาะสำหรับการพัฒนาระบบตรวจจับหมวกกันน็อก YOLOv8 ทำงานได้รวดเร็วและแม่นยำ ใช้งานง่าย และสามารถปรับแต่งโมเดลให้เหมาะกับงานเฉพาะได้</p>
    </div>
    <div class="how-to-use-content">
        <div class="how-to-use-boxes">
            <div class="box" id="upload-box">
                <i class='bx bxs-cloud-download'></i>
                <div class="how-to-use-text">
                    <h1>อัปโหลดรูปภาพ</h1>
                    <p>คลิกอัปโหลดหรือลากรูปภาพที่คุณต้องการลงในช่องอัปโหลด</p>
                </div>
            </div>
            <div class="box" id="ai-detect-box">
                <i class='bx bx-radar'></i>
                <div class="how-to-use-text">
                    <h1>AI ตรวจจับ</h1>
                    <p>AI จะทำการตรวจผู้ไม่สวมใส่หมวกกันน็อค</p>
                </div>
            </div>
        </div>
        <div class="how-to-use-img">
            <img id="dynamic-image" src="../static/images/Screenshot 2024-07-30 235159.png" alt="AI Helmet Detection">
        </div>
    </div>
</section>
    <script src="../static/script.js"></script>.
</body>
</html>